"""
阿瓦隆游戏规则文档
"""

GAME_RULES = """
阿瓦隆游戏规则：

【游戏目标】
- 好人阵营：完成3次任务成功
- 坏人阵营：完成3次任务失败，或在最后刺杀梅林

【游戏流程】
1. 角色分配：每个玩家获得一个秘密角色
2. 秘密信息：每个玩家收到与自己角色相关的秘密信息
3. 队伍选择：队长选择玩家组成任务队伍
4. 队伍投票：所有玩家对队伍进行投票
5. 任务投票：队伍成员对任务进行投票
6. 重复3-5直到一方获胜
7. 刺杀阶段：如果好人获胜，刺客可以刺杀梅林

【角色说明】
好人阵营：
- 梅林：知道所有坏人身份（除莫德雷德），但不能暴露
- 派西维尔：知道梅林和莫甘娜，但不知道谁是谁
- 忠臣：普通好人，不知道其他玩家身份

坏人阵营：
- 莫甘娜：伪装成梅林，迷惑派西维尔
- 刺客：负责最后刺杀梅林
- 莫德雷德：对梅林隐身
- 奥伯伦：不知道其他坏人身份
- 爪牙：普通坏人

【投票规则】
- 队伍投票：需要多数赞成才能通过
- 任务投票：只要有1个坏人投失败，任务就失败
- 队伍被拒绝5次，坏人获胜

【策略要点】
- 好人要选择可信的队友
- 坏人要隐藏身份，适时破坏任务
- 梅林要小心不要暴露身份
- 派西维尔要识别真正的梅林
"""

def get_role_specific_rules(role: str) -> str:
    """获取特定角色的策略建议"""
    role_rules = {
        'merlin': """
梅林策略：
- 你知道所有坏人身份（除莫德雷德）
- 选择队伍时避免选择坏人
- 发言时要小心，不要暴露身份
- 可以暗示但不要直接指出坏人
""",
        'percival': """
派西维尔策略：
- 你知道梅林和莫甘娜，但不知道谁是谁
- 观察两人的发言，识别真正的梅林
- 支持梅林选择的队伍
- 小心莫甘娜的伪装
""",
        'loyal_servant': """
忠臣策略：
- 你是普通好人，不知道其他玩家身份
- 通过观察投票和发言判断玩家身份
- 支持看起来可信的队伍
- 在任务中总是投票成功
""",
        'morgana': """
莫甘娜策略：
- 伪装成梅林，迷惑派西维尔
- 模仿梅林的发言风格
- 选择队伍时假装考虑好人利益
- 在任务中可以选择破坏或成功
""",
        'assassin': """
刺客策略：
- 你是坏人，负责最后刺杀梅林
- 隐藏身份，避免被梅林识别
- 在任务中可以选择破坏或成功
- 最后阶段要准确识别梅林
""",
        'mordred': """
莫德雷德策略：
- 对梅林隐身，梅林不知道你的身份
- 隐藏身份，避免被其他好人识别
- 在任务中可以选择破坏或成功
""",
        'oberon': """
奥伯伦策略：
- 你不知道其他坏人身份
- 独立行动，隐藏身份
- 在任务中可以选择破坏或成功
""",
        'minion': """
爪牙策略：
- 你是普通坏人
- 隐藏身份，避免被识别
- 在任务中可以选择破坏或成功
"""
    }
    return role_rules.get(role, "未知角色")

def get_complete_rules_for_player(role: str) -> str:
    """获取完整的游戏规则（包含角色特定策略）"""
    return GAME_RULES + "\n" + get_role_specific_rules(role) 